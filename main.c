#include<reg51.h>	//加载头文件
#include<intrins.h>
#define uint unsigned int 	//宏定义
#define uchar unsigned char
sbit DS=P2^4;	//595接口位定义
sbit SHCP=P2^5;
sbit STCP=P2^6;
uchar code TAB[][128]={		


0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xDF,0xFF,0xFF,0xEF,0x1F,0xFF,
0x07,0xC0,0x9F,0xFF,0xFF,0xC7,0x9F,0xFF,
0xFF,0xE7,0x9F,0xFF,0xFF,0xF3,0x9F,0xFF,
0xFF,0xFB,0x9F,0xFF,0xFF,0xFC,0x9F,0xFF,
0xFF,0xFC,0x9E,0xFF,0xFF,0xFC,0x98,0xFD,
0xFF,0xBC,0x9C,0xFD,0xFF,0xCC,0x9C,0xFB,
0xFF,0xF0,0x9C,0xFB,0xFF,0x7C,0x9E,0xF3,
0x3F,0x7C,0x9E,0xF7,0x8F,0x7C,0x9E,0xE7,
0xE3,0x7C,0x9F,0xE7,0xF3,0x3C,0x9F,0xC7,
0xFF,0xBC,0x9F,0xCF,0xFF,0xBC,0x9F,0xCF,
0xFF,0xDC,0x9F,0xCF,0xFF,0xDC,0x9F,0xCF,
0xFF,0xEC,0x9F,0xEF,0xFF,0xFC,0x9F,0xFF,
0xFF,0xFC,0x9F,0xFF,0xFF,0xFC,0x9F,0xFF,
0x1F,0xFC,0xC1,0xFF,0x3F,0xFE,0xC7,0xFF,
0x7F,0xFF,0xEF,0xFF,0xFF,0xFF,0xFF,0xFF,

0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xBF,0xFF,0xDF,0xFF,0x3F,0xFE,0x9F,0xFF,
0x3F,0xFF,0x9F,0xFF,0xBF,0xFF,0x9F,0xFF,
0x9F,0xE7,0x9F,0xFF,0x1F,0xC0,0x9F,0xFF,
0xDF,0xFF,0x9F,0xF7,0xCF,0x7F,0x00,0xE0,
0xEF,0x7F,0x9E,0xF7,0xEF,0x73,0x9E,0xF7,
0x07,0x60,0x9E,0xF7,0x37,0x7F,0x9E,0xF7,
0x3B,0x7F,0x9E,0xF7,0x3D,0x7F,0x9E,0xF7,
0x3F,0x7F,0x9E,0xF7,0x3F,0x67,0x00,0xF0,
0x03,0x40,0x9E,0xF7,0x3F,0x7F,0x9F,0xF7,
0x3F,0xFF,0x9F,0xFF,0x3F,0xFF,0x9F,0xFF,
0x3F,0xDF,0x9F,0xFF,0x3F,0xEF,0x9F,0xFF,
0x3F,0xF7,0x9F,0xFF,0x3F,0xF9,0x9F,0xFF,
0x3F,0xFC,0x9F,0xFF,0x3F,0xFE,0x9F,0xFF,
0x7F,0xFF,0x9F,0xFF,0xFF,0xFF,0x9F,0xFF,
0xFF,0xFF,0xDF,0xFF,0xFF,0xFF,0xFF,0xFF,

0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xDF,0xFF,0xFF,0xFF,0x9F,0xBF,0xFF,
0xFF,0x9F,0x7F,0xFC,0xFF,0x9F,0xFF,0xF8,
0xFF,0x9F,0xFF,0xF1,0xFF,0x9F,0x7F,0xF3,
0x1F,0x00,0x00,0xF6,0xFF,0x9F,0x3F,0xFF,
0xFF,0x9F,0x3F,0xFF,0xFF,0x9F,0x3F,0xFF,
0xFF,0x9F,0x3F,0xFF,0xFF,0x9F,0x3F,0xFF,
0xFF,0x9F,0x3F,0xFF,0xFF,0x9F,0x3F,0xE7,
0x03,0x00,0x00,0xC0,0xFF,0x9F,0xFF,0xE7,
0xFF,0x9F,0xFF,0xE7,0xFF,0x9F,0xFF,0xE7,
0xFF,0x9F,0xFF,0xE7,0xFF,0x9F,0xFF,0xF7,
0xFF,0x9F,0xFF,0xF7,0xFF,0x9F,0xFF,0xF7,
0xFF,0x9F,0x9F,0xF3,0xFF,0x9F,0x7F,0xF0,
0xFF,0x9F,0xFF,0xF8,0xFF,0x9F,0xFF,0xFF,
0xFF,0x9F,0xFF,0xFF,0xFF,0x9F,0xFF,0xFF,
0xFF,0xDF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,

0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xEF,0xFF,0xFF,0xFF,0xD9,0xFF,
0xBF,0xFF,0xFD,0xFF,0xBF,0xFB,0xDD,0xFF,
0xBA,0xBF,0xFD,0xFF,0xFF,0xFF,0xDD,0xFF,
0xC7,0xEF,0x01,0xFF,0xDF,0xDF,0xF7,0xFF,
0xFF,0xEF,0xF7,0xFF,0xFF,0xEF,0xF7,0xFF,
0xFF,0x6F,0xF7,0xFF,0xFF,0xFF,0xF7,0xFF,
0xFF,0xFF,0xF7,0xFF,0xFF,0xFB,0xFF,0xFF,
0xFF,0xFF,0xF7,0xFF,0xFF,0xFE,0xFF,0xFF,
0xBF,0xFF,0xFF,0xFF,0xBF,0xFE,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,/*"C:\Users\18249\Desktop\1111.bmp",0*/

};
void Delay(uint z) 	//延时函数
{
	uint x,y;
	for(x=z;x>0;x--)
		for(y=30;y>0;y--);
}
void HC595_Send_Byte(uchar temp) //发送数据
{
	uchar c;
	for(c=0;c<8;c++)
	{
		temp=temp>>1; 
		DS=CY ;
		SHCP=1 ; //上升沿发生移位
		_nop_() ;
		_nop_() ;
		SHCP=0 ;
	}
}
void main()	//主函数
{
	uchar j,k;	//变量声明
	uchar n;
	while(1) 	//大循环
	{
	  	for(n=0;n<4;n++)	//总共显示的字数
		{
			for(k=0;k<60;k++)	//显示的时间调节
			{
				for(j=0;j<32;j++)	//显示的汉字点阵数
				{
					HC595_Send_Byte(TAB[n][j*4]);	//传输数据
					HC595_Send_Byte(TAB[n][j*4+1]); 
					HC595_Send_Byte(TAB[n][j*4+2]);
					HC595_Send_Byte(TAB[n][j*4+3]);
					P1=j;
					STCP=1;
					STCP=0;
				}
				Delay(1);
			}
		}
	}
}